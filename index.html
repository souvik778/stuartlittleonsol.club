<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StuartLittleOnSol Homepage</title>
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Font Awesome CDN for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-pIVfEV+LlxG3XVvKxGlt5VxN8i3W2VllLkmE/1BjF8uPjnmFQjm25YMjRrI6QW+/KgeF95K5s1NVW8Vh4X4j4w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@400;700&display=swap"
        rel="stylesheet">
    <!-- Link to External CSS -->
    <link rel="stylesheet" href="styles.css">
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
</head>

<body>
    <!-- Interactive Background Canvas -->
    <canvas id="interactive-background"></canvas>

    <!-- Top Bar -->
    <header class="topbar" role="banner">
        <h1>StuartLittleOnSol</h1>
        <div class="menu-toggle">â˜°</div>
        <nav class="nav-links">
            <a href="#features">Features</a>
            <a href="#tokenomics">Tokenomics</a>
            <a href="#piechart">Token Distribution</a>
            <a href="#faq">FAQ</a>
            <a href="#contact">Contact</a>

            <a href="#creatememe" onclick="showAnnouncement(event)">Create Meme</a>

            <!-- Modal or Popup for the Message -->
            <div id="announcement-modal" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0, 0, 0, 0.9); color: white; padding: 30px; border-radius: 10px; box-shadow: 0 8px 20px rgba(0, 0, 0, 0.7); z-index: 1000; text-align: center;">
                <p style="font-size: 1.2rem; margin-bottom: 20px;">"Create Meme" feature will be announced soon!</p>
                <button onclick="hideAnnouncement()" style="padding: 10px 20px; background-color: #FFD700; color: black; border: none; border-radius: 5px; cursor: pointer;">OK</button>
            </div>

            <!-- JavaScript for Modal -->
            <script>
                function showAnnouncement(event) {
                    event.preventDefault(); // Prevent default link behavior
                    const modal = document.getElementById('announcement-modal');
                    modal.style.display = 'block';
                }

                function hideAnnouncement() {
                    const modal = document.getElementById('announcement-modal');
                    modal.style.display = 'none';
                }

                // Optional: Close modal when clicking outside of it
                window.addEventListener('click', (event) => {
                    const modal = document.getElementById('announcement-modal');
                    if (event.target === modal) {
                        modal.style.display = 'none';
                    }
                });
            </script>

            <!-- Social Links -->
            <a href="https://linktr.ee/lilstuart.chill" target="_blank" aria-label="Linktree">
                <i class="fab fa-linktree"></i>
                <img src="linktree.webp" alt="Linktree Logo" style="width: 20px; height: 20px; margin-left: 5px;">
            </a>
        </nav>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <main class="content">
            <!-- Hero Section with Stuart Image -->
            <section class="hero-section animate-on-scroll" id="home">
                <img src="stuart.jpg" alt="Stuart Little on Sol" class="hero-image" id="hero-image" loading="lazy">
            </section>

            <!-- Presale Information Section -->
            <section class="presale-section" id="presale">
                <h2>Presale Information</h2>
                <p><strong>Presale Target:</strong> 50 SOL</p>
                <p><strong>Token Live:</strong> After presale ends</p>
                <p><strong>Airdrop:</strong> All tokens will be airdropped to respective wallets by 12 am EST (same day)</p>
                <p><strong>Contract Address:</strong></p>
                <div class="contract-address">
                    
                    SOL- HU1CB5vbghpEAA3xhbiWzJsqgoVaTPDQXPD1xDNB6FRM
                  
                </div>
                <div class="contract-address"> 
                    USDC- HU1CB5vbghpEAA3xhbiWzJsqgoVaTPDQXPD1xDNB6FRM

                </div>
                <p><strong>Anticipated launch date:</strong> 20 December 2024 </p>
                <p>Follow us on socials to stay updated:</p>
                <div class="social-links">
                    <a href="https://x.com/lil_stuart_sol" target="_blank" aria-label="Twitter">
                        <i class="fab fa-twitter"></i>
                        <img src="x.com.jpeg" alt="X.com Logo" style="width: 20px; height: 20px; margin-left: 5px;">
                    </a>
                    <a href="https://t.me/lilstuartcoinsol" target="_blank" aria-label="Telegram">
                        <i class="fab fa-telegram-plane"></i>
                        <img src="Telegram_logo.png" alt="Telegram Logo" style="width: 20px; height: 20px; margin-left: 5px;">
                    </a>
                    <a href="https://linktr.ee/lilstuart.chill" target="_blank" aria-label="Linktree">
                        <i class="fab fa-linktree"></i>
                        <img src="linktree.webp" alt="Linktree Logo" style="width: 20px; height: 20px; margin-left: 5px;">
                    </a>
                </div>
            </section>
            <br>
            <br>

 <!-- Token Price Calculation Section with Animation Class -->
 <section class="presale-section" id="token-price">
    <h2>Token Price Calculator</h2>
    <p><strong>Current Token Price:</strong> 1 $lilstu = 0.0001 USDC</p>
    <p><strong>Equivalent in SOL:</strong> <span id="token-price-sol">Loading...</span> SOL</p>

    <!-- Calculator Form -->
    <div class="calculator-container">
        <h3>Calculate Tokens You'll Receive</h3>
        <form id="token-calculator">
            <label for="amount-input">Enter Amount:</label>
            <input type="number" id="amount-input" placeholder="Amount in USDC or SOL" min="0" step="any" required>
            <select id="currency-select">
                <option value="USDC">USDC</option>
                <option value="SOL">SOL</option>
            </select>
            <button type="submit">Calculate</button>
        </form>
        <p id="calculation-result"></p>
    </div>

    <!-- Chart Toggle Button -->
    <button id="toggle-chart-btn">Show Price Chart</button>

    <!-- Chart Container (Initially Hidden) -->
    <div class="price-chart-container" id="price-chart-container" style="display: none;">
        <!-- TradingView Widget Container -->
        <div id="tradingview-widget"></div>
    </div>
</section>
<!-- Mobile Presale Section -->
<div class="mobile-presale-section">
    <h2>Presale Information</h2>
    <p>Join the StuartLittleOnSol Presale launching on December 20th!</p>
    <div class="presale-content">
        <!-- Include the content from the popup here -->

        <!-- Add more content as needed -->
    </div>
    <img src="token.png" alt="Token Image" class="token-image">
</div>


            <!-- Presale Popup (Initially Hidden) -->
            <div class="presale-popup" id="presale-popup" aria-labelledby="presale-title" role="dialog" aria-modal="true">
                <button class="close-btn" id="presale-close" aria-label="Close Presale Popup">&times;</button>
                <h2 id="presale-title">Presale Launch</h2>
                <p>Join the StuartLittleOnSol Presale launching on December 20th!</p>

                <!-- Countdown Timer -->
                <div class="countdown" id="countdown">
                    <div>
                        <span id="days">0</span>
                        Days
                    </div>
                    <div>
                        <span id="hours">0</span>
                        Hours
                    </div>
                    <div>
                        <span id="minutes">0</span>
                        Minutes
                    </div>
                    <div>
                        <span id="seconds">0</span>
                        Seconds
                    </div>
                </div>

                <!-- Token Image Instead of Jupiter Integration -->
                <img src="token.png" alt="Token Image" class="token-image" id="token-image">
            </div>

            <!-- Minimized Presale Popup -->
            <div class="presale-minimized" id="presale-minimized">
                <button id="presale-minimized-btn" aria-label="Open Presale Popup">
                    Presale
                </button>
            </div>
            <br><br>

            <!-- Tokenomics Section with King Image -->
            <section class="tokenomics-section" id="tokenomics">
                <h2>Tokenomics</h2>
                <div class="tokenomics-container">
                    <div class="tokenomics-item">
                        <h3>Total Supply</h3>
                        <p>1,000,000,000 STUART</p>
                    </div>
                    <div class="tokenomics-item">
                        <h3>Public Sale</h3>
                        <p>50% of total supply allocated for public sale.</p>
                    </div>
                    <div class="tokenomics-item">
                        <h3>Dev and Management</h3>
                        <p>15% of total supply allocated to the development and management team.</p>
                    </div>
                    <div class="tokenomics-item">
                        <h3>Presale</h3>
                        <p>15% of total supply allocated for presale.</p>
                    </div>
                    <div class="tokenomics-item">
                        <h3>Marketing and Promotions</h3>
                        <p>15% of total supply allocated for marketing and promotions.</p>
                    </div>
                    <div class="tokenomics-item">
                        <h3>Airdrop (Contest)</h3>
                        <p>5% of total supply allocated for airdrops and contests.</p>
                    </div>
                </div>
                <!-- King Image within Tokenomics Section -->
                <img src="king.png" alt="King Image" class="king-image-tokenomics" id="king-image-tokenomics">
            </section>

            <!-- Pie Chart Section -->
            <section class="piechart-section" id="piechart">
                <h2>Token Distribution</h2>
                <div class="chart-container">
                    <canvas id="tokenomics-piechart"></canvas>
                </div>
            </section>

            <!-- Features Section -->
            <section class="features-section animate-on-scroll" id="features">
                <h2>Features</h2>

                <div class="features-container">
                    <div class="feature-card">
                        <h3>Tax-Free Token</h3>
                        <p>This innovative approach is designed to offer a seamless experience for traders and investors while maintaining full transparency and compliance.</p>
                    </div>
                    <div class="feature-card">
                        <h3>Decentralized Memecoin</h3>
                        <p>Gain full control over your assets with a token on the Solana blockchain. StuartLittleOnSol ensures that your transactions are fast, transparent, and free from centralized oversight.</p>
                    </div>
                    <div class="feature-card">
                        <h3>Community Governance</h3>
                        <p>Be part of a thriving community where your voice matters. Participate in governance decisions through our transparent voting system and help shape the future direction of StuartLittleOnSol. With rewards for active participation, your engagement strengthens the ecosystem while benefiting all members.</p>
                    </div>
                </div>

            </section>

            <!-- FAQ Section -->
            <section class="faq-section" id="faq">
                <h2>Frequently Asked Questions</h2>
                <div class="faq-container">
                    <div class="faq-item">
                        <h3>What is StuartLittleOnSol?</h3>
                        <p>StuartLittleOnSol is a decentralized token designed for meme enthusiasts, offering secure transactions on Solana, community governance, and a vibrant ecosystem.</p>
                    </div>
                    <div class="faq-item">
                        <h3>How can I participate in the presale?</h3>
                        <p>You can participate in the presale by following the instructions on our presale window.</p>
                    </div>
                    <div class="faq-item">
                        <h3>What blockchain is StuartLittleOnSol built on?</h3>
                        <p>StuartLittleOnSol is built on the Solana blockchain, leveraging its robust infrastructure and low transaction fees.</p>
                    </div>
                    <div class="faq-item">
                        <h3>What are the benefits of holding STUART tokens?</h3>
                        <p>Holders of STUART tokens gain access to exclusive features, voting rights in community governance, and can earn rewards through airdrops and participation.</p>
                    </div>
                </div>
            </section>

            <!-- Contact Section -->
            <section class="contact-section" id="contact">
                <h2>Contact Us</h2>
                <div class="sticky-note animate-on-scroll" aria-labelledby="contact-title">
                    <h3 id="contact-title">Get in Touch</h3>
                    <p>If you have any questions, feedback, or just want to say hi, feel free to reach out to us using the form below:</p>
                    <form id="contact-form" action="mailto:bitelder01@gmail.com" method="post" enctype="text/plain">
                        <input type="text" placeholder="Your Name" required aria-label="Your Name">
                        <input type="email" placeholder="Your Email" required aria-label="Your Email">
                        <textarea placeholder="Your Message" rows="5" required aria-label="Your Message"></textarea>
                        <button type="submit">Send Message</button>
                    </form>
                </div>
            </section>
        </main>
    </div>

    <!-- Disclaimer Section -->
    <section class="disclaimer-section" id="disclaimer">
        <p>By purchasing $LILSTU, you acknowledge that it is not a security or investment. The team is not liable for any potential losses or tax implications. LILSTU is a community-driven DeFi ecosystem, and you are solely responsible for understanding and complying with local laws and regulations.</p>
    </section>

    <footer role="contentinfo">
        <p>&copy; 2024 StuartLittleOnSol. All Rights Reserved.</p>
    </footer>

    <!-- JavaScript for Presale Popup Interactivity, Interactive Background, and Pie Chart -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // Presale Popup Interactivity
            const presalePopup = document.getElementById("presale-popup");
            const presaleCloseBtn = document.getElementById("presale-close");
            const tokenImage = document.getElementById("token-image");
            const tokenomicsSection = document.getElementById("tokenomics");
            const countdownElement = document.getElementById("countdown");
            const heroImage = document.getElementById("hero-image");
            const kingImageTokenomics = document.getElementById("king-image-tokenomics");

            const presaleMinimized = document.getElementById('presale-minimized');
            const presaleMinimizedBtn = document.getElementById('presale-minimized-btn');

            let presaleShown = false; // Flag to ensure popup is shown only once

            // Countdown Timer Setup
            const launchDate = new Date("December 20, 2024 00:00:00").getTime();

            const updateCountdown = () => {
                const now = new Date().getTime();
                const distance = launchDate - now;

                if (distance < 0) {
                    countdownElement.innerHTML = "<div>Presale Launched!</div>";
                    clearInterval(countdownInterval);
                    return;
                }

                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                document.getElementById("days").innerText = days;
                document.getElementById("hours").innerText = hours;
                document.getElementById("minutes").innerText = minutes;
                document.getElementById("seconds").innerText = seconds;
            };

            const countdownInterval = setInterval(updateCountdown, 1000);
            updateCountdown(); // Initial call

            // Function to show presale popup
            const showPresale = () => {
                if (!presaleShown) {
                    presalePopup.classList.add("active");
                    presalePopup.style.display = 'flex'; // Ensure it's displayed
                    presaleShown = true;
                    observer.disconnect(); // Stop observing after first trigger
                }
            };

            // Function to hide presale popup (minimize)
            const hidePresale = () => {
                // Add minimize animation
                presalePopup.classList.add('minimize');

                // After animation ends, hide popup and show minimized button
                presalePopup.addEventListener('animationend', function handler() {
                    presalePopup.classList.remove('active', 'minimize');
                    presalePopup.style.display = 'none';
                    presaleMinimized.style.display = 'block';
                    presalePopup.removeEventListener('animationend', handler);
                });
            };

            // Close button event
            presaleCloseBtn.addEventListener("click", hidePresale);

            // Minimized button click event
            presaleMinimizedBtn.addEventListener('click', () => {
                presalePopup.style.display = 'flex';
                presalePopup.classList.add('maximize');

                presalePopup.addEventListener('animationend', function handler() {
                    presalePopup.classList.remove('maximize');
                    presalePopup.classList.add('active');
                    presalePopup.removeEventListener('animationend', handler);
                });

                presaleMinimized.style.display = 'none';
            });

            // Close popup when clicking outside of it (optional)
            window.addEventListener("click", (e) => {
                if (e.target === presalePopup) {
                    hidePresale();
                }
            });

            // Intersection Observer to detect when Presale section is in view
            const observerOptions = {
                root: null, // viewport
                rootMargin: '0px',
                threshold: 0.1 // Trigger when 10% of the Presale section is visible
            };

            const observerCallback = (entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        showPresale();
                    }
                });
            };

            const observer = new IntersectionObserver(observerCallback, observerOptions);
            const presaleSection = document.getElementById("presale");
            observer.observe(presaleSection);

            // Interactive Background Script
            const canvas = document.getElementById('interactive-background');
            const ctx = canvas.getContext('2d');
            let particlesArray = [];
            const numberOfParticles = 200; // Increased number for denser background
            const mouse = { x: null, y: null, radius: 150 }; // Increased radius for better interaction

            const resizeCanvas = () => {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            };
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);

            window.addEventListener('mousemove', (e) => {
                mouse.x = e.x;
                mouse.y = e.y;
            });

            class Particle {
                constructor(x, y, dx, dy, size, color, opacity) {
                    this.x = x;
                    this.y = y;
                    this.dx = dx;
                    this.dy = dy;
                    this.size = size;
                    this.color = color;
                    this.opacity = opacity;
                }

                draw() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2, false);
                    ctx.fillStyle = `rgba(255, 215, 0, ${this.opacity})`; // Gold color with variable opacity
                    ctx.fill();
                }

                update() {
                    this.x += this.dx;
                    this.y += this.dy;

                    // Bounce off edges
                    if (this.x + this.size > canvas.width || this.x - this.size < 0) this.dx *= -1;
                    if (this.y + this.size > canvas.height || this.y - this.size < 0) this.dy *= -1;

                    // Move away from mouse
                    const dxMouse = mouse.x - this.x;
                    const dyMouse = mouse.y - this.y;
                    const distance = Math.sqrt(dxMouse * dxMouse + dyMouse * dyMouse);
                    if (distance < mouse.radius + this.size) {
                        const angle = Math.atan2(dyMouse, dxMouse);
                        const moveX = Math.cos(angle) * 5;
                        const moveY = Math.sin(angle) * 5;
                        this.x -= moveX;
                        this.y -= moveY;
                    }

                    this.draw();
                }
            }

            const initParticles = () => {
                particlesArray = [];
                for (let i = 0; i < numberOfParticles; i++) {
                    const size = Math.random() * 3 + 1;
                    const x = Math.random() * (canvas.width - size * 2) + size;
                    const y = Math.random() * (canvas.height - size * 2) + size;
                    const dx = (Math.random() * 1) - 0.5;
                    const dy = (Math.random() * 1) - 0.5;
                    const opacity = Math.random() * 0.5 + 0.3; // Variable opacity for depth
                    particlesArray.push(new Particle(x, y, dx, dy, size, 'gold', opacity));
                }
            };

            const connectParticles = () => {
                for (let a = 0; a < particlesArray.length; a++) {
                    for (let b = a + 1; b < particlesArray.length; b++) {
                        const dx = particlesArray[a].x - particlesArray[b].x;
                        const dy = particlesArray[a].y - particlesArray[b].y;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        if (distance < 120) { // Increased distance for more connections
                            const opacity = 1 - distance / 120;
                            ctx.strokeStyle = `rgba(255,215,0,${opacity})`;
                            ctx.lineWidth = 1;
                            ctx.beginPath();
                            ctx.moveTo(particlesArray[a].x, particlesArray[a].y);
                            ctx.lineTo(particlesArray[b].x, particlesArray[b].y);
                            ctx.stroke();
                        }
                    }
                }
            };

            const animateParticles = () => {
                requestAnimationFrame(animateParticles);
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                particlesArray.forEach(particle => particle.update());
                connectParticles();
            };

            initParticles();
            animateParticles();

            // Glowing Hero Image Responsive to Cursor with Multiple Colors
            heroImage.addEventListener('mousemove', (e) => {
                const rect = heroImage.getBoundingClientRect();
                const x = e.clientX - rect.left - rect.width / 2;
                const y = e.clientY - rect.top - rect.height / 2;

                // Normalize the values
                const maxOffset = 30; // Maximum offset for glow
                const offsetX = (x / (rect.width / 2)) * maxOffset;
                const offsetY = (y / (rect.height / 2)) * maxOffset;

                // Update CSS variables
                heroImage.style.setProperty('--glow-x', `${offsetX}px`);
                heroImage.style.setProperty('--glow-y', `${offsetY}px`);
            });

            heroImage.addEventListener('mouseleave', () => {
                // Reset CSS variables
                heroImage.style.setProperty('--glow-x', `0px`);
                heroImage.style.setProperty('--glow-y', `0px`);
            });

            // Debounce function to limit how often scrollAnimations is called
            const debounce = (func, delay = 100) => {
                let timer;
                return (...args) => {
                    clearTimeout(timer);
                    timer = setTimeout(() => {
                        func.apply(this, args);
                    }, delay);
                };
            };

            // Scroll Animations for Sections
            const scrollAnimations = () => {
                const elements = document.querySelectorAll('.animate-on-scroll');
                elements.forEach(el => {
                    const rect = el.getBoundingClientRect();
                    if (rect.top < window.innerHeight - 100) {
                        el.classList.add('visible');
                    }
                });
            };

            window.addEventListener('scroll', debounce(scrollAnimations));
            scrollAnimations(); // Initial call

            // FAQ Toggle Functionality
            const faqItems = document.querySelectorAll('.faq-item');

            faqItems.forEach(item => {
                item.addEventListener('click', () => {
                    item.classList.toggle('active');
                });
            });

            // Interactivity for King Image within Tokenomics Section
            // Make the king image react to cursor movement within the Tokenomics section
            kingImageTokenomics.addEventListener('mousemove', (e) => {
                const rect = tokenomicsSection.getBoundingClientRect();
                const x = e.clientX - rect.left - rect.width / 2;
                const y = e.clientY - rect.top - rect.height / 2;

                // Normalize the values
                const maxOffset = 30; // Increased offset for better visibility
                const offsetX = (x / (rect.width / 2)) * maxOffset;
                const offsetY = (y / (rect.height / 2)) * maxOffset;

                // Apply the offset
                kingImageTokenomics.style.transform = `translate(${offsetX}px, ${offsetY}px) rotate(5deg)`;
            });

            kingImageTokenomics.addEventListener('mouseleave', () => {
                // Reset the position
                kingImageTokenomics.style.transform = `translate(0px, 0px) rotate(0deg)`;
            });

            // Initialize Pie Chart using Chart.js with Enhanced Features
            const ctxPie = document.getElementById('tokenomics-piechart').getContext('2d');
            const tokenomicsPieChart = new Chart(ctxPie, {
                type: 'doughnut',
                data: {
                    labels: ['Public Sale', 'Dev and Management', 'Presale', 'Marketing and Promotions', 'Airdrop (Contest)'],
                    datasets: [{
                        label: 'Token Distribution',
                        data: [50, 15, 15, 15, 5], // Percentages
                        backgroundColor: [
                            'rgba(255, 215, 0, 0.9)',   // Public Sale - Gold
                            'rgba(54, 162, 235, 0.9)',  // Dev and Management - Blue
                            'rgba(255, 99, 132, 0.9)',  // Presale - Red
                            'rgba(75, 192, 192, 0.9)',  // Marketing and Promotions - Teal
                            'rgba(153, 102, 255, 0.9)'  // Airdrop (Contest) - Purple
                        ],
                        borderColor: [
                            'rgba(255, 215, 0, 1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 99, 132, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(153, 102, 255, 1)'
                        ],
                        borderWidth: 2,
                        hoverOffset: 10
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: function (context) {
                                    const label = context.label || '';
                                    const value = context.parsed || 0;
                                    return `${label}: ${value}%`;
                                }
                            },
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            titleColor: '#FFD700',
                            bodyColor: '#fff',
                            borderColor: '#FFD700',
                            borderWidth: 1,
                            cornerRadius: 10,
                        },
                        legend: {
                            position: 'right',
                            labels: {
                                boxWidth: 30,
                                padding: 15,
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                color: '#fff'
                            }
                        },
                        title: {
                            display: false,
                            text: 'Token Distribution'
                        },
                        animation: {
                            animateRotate: true,
                            animateScale: true
                        }
                    },
                    cutout: '50%', // Creates the doughnut effect
                    maintainAspectRatio: false
                }
            });
        });

        // Mobile Navigation Toggle
        document.addEventListener('DOMContentLoaded', function () {
            const menuToggle = document.querySelector('.menu-toggle');
            const topbar = document.querySelector('.topbar');

            menuToggle.addEventListener('click', function () {
                topbar.classList.toggle('nav-active');
            });
        });

     // Fetch Real-Time SOL Price in USDC using Binance API
async function fetchSolPrice() {
    try {
        const response = await fetch('https://api.binance.com/api/v3/ticker/price?symbol=SOLUSDC');
        
        // Check if the response is OK (status code 200-299)
        if (!response.ok) {
            throw new Error(`HTTP error! Status: ${response.status}`);
        }

        const data = await response.json();

        // Debugging: Log the fetched data
        console.log('Binance API Response:', data);

        // Ensure the API response contains the expected data
        if (!data.price) {
            throw new Error('Invalid data received from Binance API.');
        }

        const solPriceInUsdc = parseFloat(data.price);

        // Validate the fetched price
        if (isNaN(solPriceInUsdc) || solPriceInUsdc <= 0) {
            throw new Error('Invalid SOL price fetched from Binance.');
        }

        // Calculate the token price in SOL based on USDC
        const tokenPriceInSol = (0.0001 / solPriceInUsdc).toFixed(8);

        // Get the DOM element
        const priceElement = document.getElementById('token-price-sol');

        // Ensure the DOM element exists
        if (!priceElement) {
            throw new Error('Element with ID "token-price-sol" not found in the DOM.');
        }

        // Update the DOM element with the fetched price
        priceElement.innerText = `${tokenPriceInSol} SOL`;
    } catch (error) {
        console.error('Error fetching SOL price:', error);

        // Get the DOM element
        const priceElement = document.getElementById('token-price-sol');

        // If the element exists, update its text to show an error message
        if (priceElement) {
            priceElement.innerText = 'Error fetching price';
        }
    }
}

// Initial fetch when the page loads
fetchSolPrice();

// Optionally, update the SOL price every minute (60000 milliseconds)
setInterval(fetchSolPrice, 60000);

// Token Calculator Logic
const tokenCalculatorForm = document.getElementById('token-calculator');
const amountInput = document.getElementById('amount-input');
const currencySelect = document.getElementById('currency-select');
const calculationResult = document.getElementById('calculation-result');

tokenCalculatorForm.addEventListener('submit', async (e) => {
    e.preventDefault();

    const amount = parseFloat(amountInput.value);
    const currency = currencySelect.value;

    // Input Validation
    if (isNaN(amount) || amount <= 0) {
        calculationResult.innerText = 'Please enter a valid amount.';
        return;
    }

    let tokensReceived;

    if (currency === 'USDC') {
        // Calculation for USDC
        tokensReceived = amount / 0.0001; // Ensured consistency with fetchSolPrice
    } else if (currency === 'SOL') {
        try {
            // Fetch SOL price in USDC from Binance API
            const response = await fetch('https://api.binance.com/api/v3/ticker/price?symbol=SOLUSDC');
            
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }

            const data = await response.json();
            const solPriceInUsdc = parseFloat(data.price); // Correct property access

            // Validate the fetched price
            if (isNaN(solPriceInUsdc) || solPriceInUsdc <= 0) {
                throw new Error('Invalid SOL price received from Binance API.');
            }

            // Calculate tokens received based on SOL input
            const amountInUsdc = amount * solPriceInUsdc;
            tokensReceived = amountInUsdc / 0.0001; // Ensured consistency with fetchSolPrice
        } catch (error) {
            console.error('Error fetching SOL price:', error);
            calculationResult.innerText = 'Error calculating tokens. Please try again.';
            return;
        }
    } else {
        // Handle unsupported currencies if any
        calculationResult.innerText = 'Unsupported currency selected.';
        return;
    }

    // Display the result with comma separators for readability
    calculationResult.innerText = `You will receive ${tokensReceived.toLocaleString()} STUART tokens.`;
});

// Chart Toggle Logic
const toggleChartBtn = document.getElementById('toggle-chart-btn');
const priceChartContainer = document.getElementById('price-chart-container');
let tradingViewWidgetInitialized = false;

toggleChartBtn.addEventListener('click', () => {
    if (!tradingViewWidgetInitialized) {
        initializeTradingViewWidget();
        tradingViewWidgetInitialized = true;
    }
    if (priceChartContainer.style.display === 'none' || priceChartContainer.style.display === '') {
        priceChartContainer.style.display = 'block';
        toggleChartBtn.innerText = 'Hide Price Chart';
    } else {
        priceChartContainer.style.display = 'none';
        toggleChartBtn.innerText = 'Show Price Chart';
    }
});

// Initialize TradingView Widget
function initializeTradingViewWidget() {
    new TradingView.widget({
        "width": "100%",
        "height": 500,
        "symbol": "BINANCE:SOLUSDC",
        "interval": "D",
        "timezone": "Etc/UTC",
        "theme": "dark",
        "style": "1",
        "locale": "en",
        "toolbar_bg": "#f1f3f6",
        "enable_publishing": false,
        "withdateranges": true,
        "hide_side_toolbar": false,
        "allow_symbol_change": true,
        "container_id": "tradingview-widget"
    });
}


            // Scroll Animations for Sections (Updated)
            const scrollAnimations = () => {
                const elements = document.querySelectorAll('.animate-on-scroll');
                elements.forEach(el => {
                    const rect = el.getBoundingClientRect();
                    if (rect.top < window.innerHeight - 100) {
                        el.classList.add('visible');
                    }
                });
            };

            window.addEventListener('scroll', debounce(scrollAnimations));
            scrollAnimations(); // Initial call

            // Debounce function to limit how often scrollAnimations is called
            function debounce(func, wait = 10, immediate = true) {
                let timeout;
                return function () {
                    const context = this, args = arguments;
                    const later = function () {
                        timeout = null;
                        if (!immediate) func.apply(context, args);
                    };
                    const callNow = immediate && !timeout;
                    clearTimeout(timeout);
                    timeout = setTimeout(later, wait);
                    if (callNow) func.apply(context, args);
                };
            }
            document.addEventListener('DOMContentLoaded', () => {
    const presalePopup = document.querySelector('.presale-popup');
    if (presalePopup) {
        const adjustPopupSize = () => {
            const width = window.innerWidth;
            const height = window.innerHeight;
            const aspectRatio = width / height;

            if (aspectRatio > 1.6) {
                // Wide screens (e.g., 16:9 or wider)
                presalePopup.style.width = '60vw';
                presalePopup.style.maxWidth = '1200px';
                presalePopup.style.padding = '50px';
            } else if (aspectRatio > 1.4) {
                // Moderate wide screens (e.g., 3:2)
                presalePopup.style.width = '70vw';
                presalePopup.style.maxWidth = '1000px';
                presalePopup.style.padding = '40px';
            } else {
                // Square or tall screens
                presalePopup.style.width = '80vw';
                presalePopup.style.maxWidth = '800px';
                presalePopup.style.padding = '30px';
            }
        };

        // Initial adjustment
        adjustPopupSize();

        // Adjust on window resize
        window.addEventListener('resize', adjustPopupSize);
    }
});
document.addEventListener('DOMContentLoaded', () => {
    const presalePopup = document.querySelector('.presale-popup');
    const closeButton = document.querySelector('.presale-popup .close-btn');

    if (presalePopup) {
        // Function to adjust popup size dynamically based on aspect ratio
        const adjustPopupSize = () => {
            const width = window.innerWidth;
            const height = window.innerHeight;
            const aspectRatio = width / height;

            if (aspectRatio > 1.6) {
                // Wide screens (e.g., 16:9 or wider)
                presalePopup.style.width = '60vw';
                presalePopup.style.maxWidth = '1200px';
                presalePopup.style.padding = '50px';
            } else if (aspectRatio > 1.4) {
                // Moderate wide screens (e.g., 3:2)
                presalePopup.style.width = '70vw';
                presalePopup.style.maxWidth = '1000px';
                presalePopup.style.padding = '40px';
            } else {
                // Square or tall screens
                presalePopup.style.width = '80vw';
                presalePopup.style.maxWidth = '800px';
                presalePopup.style.padding = '30px';
            }
        };

        // Function to close the popup
        const closePopup = () => {
            presalePopup.classList.remove('active');
        };

        // Close popup when clicking outside of it
        document.addEventListener('click', (event) => {
            if (presalePopup.classList.contains('active') && !presalePopup.contains(event.target)) {
                closePopup();
            }
        });

        // Close popup when the close button is clicked
        if (closeButton) {
            closeButton.addEventListener('click', closePopup);
        }

        // Initial size adjustment
        adjustPopupSize();

        // Adjust size on window resize
        window.addEventListener('resize', adjustPopupSize);
    }
});

    </script>
    

</body>
</html>